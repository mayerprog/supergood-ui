(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7083],{51290:function(e,t,n){"use strict";var i,r=n(2784);function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.Z=function(e){return r.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),i||(i=r.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.19 12.906a4.527 4.527 0 0 0 5.205 1.531 4.524 4.524 0 0 0 1.62-1.042l2.715-2.718A4.533 4.533 0 0 0 16.514 3a4.523 4.523 0 0 0-3.183 1.272L11.774 5.82m2.036 5.273a4.526 4.526 0 0 0-5.205-1.531 4.524 4.524 0 0 0-1.62 1.042L4.27 13.323A4.533 4.533 0 0 0 7.486 21a4.523 4.523 0 0 0 3.183-1.272l1.548-1.549",vectorEffect:"non-scaling-stroke"})))}},18149:function(e,t,n){var i=n(88746);e.exports=function(e,t){return i(e,t)}},58182:function(e,t,n){"use strict";n.d(t,{v:function(){return et},Z:function(){return ee}});var i,r,o=n(52322),l=n(10800),a=n(4878),s=n(33919),u=n(97729),d=n.n(u),c=n(5632),p=n(2784),m=n(53476),f=n(53372),v=n(80228),h=n(84919),g=n(45203),y=n(93177),b=n(54534),w=n(3846),k=n(97253),T=n(64782);let S="See it live",x=e=>{let{shouldRender:t=!1,buttonBgColor:n,buttonFgColor:i,buttonText:r,className:a,children:s,onRendered:u,onDismissed:d}=e,[c,f]=(0,m.FV)(w.H.isStartOverlayActive),{isScreenSizeSmall:v}=(0,m.sJ)(w.H.mobileInfo),{hasWrapper:h}=(0,b.u)(),[g,y]=(0,p.useState)(t);return(0,p.useEffect)(()=>f(t),[f,t]),(0,p.useEffect)(()=>{t&&(null==u||u(r||S))},[]),(0,o.jsx)("div",{className:"flex w-full h-full",children:(0,o.jsxs)("div",{className:(0,l.cn)(a,{"rounded-t-lg firefox:overflow-hidden":v,"firefox:rounded-b-lg firefox:overflow-hidden translate3d":!v&&h,"rounded-lg overflow-hidden relative":!v&&!h}),children:[s,g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:(0,l.cn)("first:transition-opacity ease-in absolute inset-0 bg-white/30 overflow-hidden rounded-b-lg w-full h-full",{"opacity-50 duration-200":c,"opacity-0 duration-500":!c,"rounded-lg overflow-hidden top-[-1px] left-[-1px] right-[-1px] bottom-[-1px]":v}),...(0,k.i8)(k.KN.StartOverlay,-1)}),(0,o.jsx)("div",{className:(0,l.cn)("transition-opacity ease-in-out absolute top-0 left-0 right-0 bottom-0 flex items-center justify-center backdrop-blur-[5px] firefox:bg-white firefox:bg-opacity-70 overflow-hidden rounded-b-lg w-[calc(100% - 2px)] h-[calc(100% - 2px)]",{"opacity-100 duration-200":c,"opacity-0 duration-500":!c,"rounded-t-lg top-[-1px] left-[-1px] right-[-1px] bottom-[-1px]":v}),...(0,k.i8)(k.KN.StartOverlay),children:(0,o.jsx)(T.zx,{buttonType:T.qh.base,buttonSize:T.Ph.xl,className:"hover:ring-4 ring-gray-700 border-4 border-white hover:border-white ring-offset-white",style:{backgroundColor:n,color:i},onClick:()=>{f(!1),setTimeout(()=>{y(!1)},700),d&&d()},children:r||S})})]})]})})};var E=n(12222);function I(e){let{enabled:t,currentCaption:n,lifted:i}=e;return t&&""!==n?(0,o.jsx)("div",{className:(0,l.cn)("fixed left-4 right-4 bottom-4 sm:left-8 sm:right-8 flex items-center justify-center min-h-16 max-w-3/4 min-w-1/2 pointer-events-none transition-all ease-jelly duration-300",{"bottom-10 sm:bottom-16":i}),style:(0,k.m)(k.KN.VoiceoverCaptions),children:(0,o.jsx)("div",{className:"p-2 sm:py-1.5 sm:px-2 md:py-2 md:px-3 bg-gray-900/70 rounded-lg font-medium text-xs sm:text-sm md:text-base text-white text-left backdrop-blur-sm",children:n})}):null}var C=n(48580),_=n(72369),j=n(62202),M=n(88683),O=n(67266),A=n(16819),P=n(49143),R=n(39490),N=n(54554),F=n(36715),V=n(3397),B=n(9587);let D="arcade_viewer_playback_rate";(i=r||(r={})).ActiveVideo="ACTIVE_VIDEO",i.ActiveVoiceover="ACTIVE_VOICEOVER";var L=n(20091);let U=e=>{let{intersectionRect:t,boundingClientRect:n}=e;if(0===t.width&&0===t.height)return"hidden";let i=.1*n.width,r=.1*n.height,o=Math.abs(t.top-n.top)>r,l=Math.abs(t.right-n.right)>i,a=Math.abs(t.bottom-n.bottom)>r,s=Math.abs(t.left-n.left)>i,u=+o+ +l+ +a+ +s;return 0===u?"visible":u>1?"obscured-multi":o?"obscured-top":l?"obscured-right":a?"obscured-bottom":s?"obscured-left":"hidden"};var q=()=>{let e=(0,p.useRef)(null),t=(0,p.useRef)(0),n=(0,p.useRef)(Date.now()),i=(0,p.useRef)(),[r,o]=(0,p.useState)({state:null,visibleTimeMs:0,visibleTimeExceedsThreshold:!1}),l=(0,p.useCallback)(r=>{clearTimeout(i.current);let a=e.current;"visible"===a&&(t.current+=Date.now()-n.current),e.current=r,n.current=Date.now(),"visible"===r&&t.current<3e3&&(i.current=setTimeout(()=>{"visible"===e.current&&l(e.current)},3e3-t.current)),o({state:r,visibleTimeMs:t.current,visibleTimeExceedsThreshold:t.current>=3e3})},[]);return(0,p.useEffect)(()=>{if(window&&"IntersectionObserver"in window){let n=new IntersectionObserver(n=>n.forEach(n=>{let i=U(n);(t.current<3e3||i!==e.current)&&l(i)}),{root:null,threshold:[0,.1,.9,1]});return n.observe(document.documentElement),()=>{n.disconnect(),clearTimeout(i.current)}}},[l]),(0,p.useEffect)(()=>{let t=null;function n(){"hidden"===document.visibilityState?"hidden"!==(t=e.current)&&l("hidden"):null!==t&&t!==e.current&&l(t)}return window.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[l]),r},H=n(34639),W=n(13888),K=n.n(W);let z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{activeStep:i,dispatch:r}=(0,b.u)(),o=(0,m.Zl)(w.H.isPanAndZoomAnimationActive);(0,p.useEffect)(()=>{var a;if(!e||!n)return;let s=a=>{var s,u,d;let c;if(a.isTrusted&&n){if("navigate-to-step"===a.data.event&&(!(c=e.steps.find(e=>{let{id:t}=e;return t===a.data.stepId}))||a.data.stepId===(null==i?void 0:i.id)))return;if("identify-user"===a.data.event&&a.data.user&&(null===(s=window.__arcadeTracker)||void 0===s||s.identify(a.data.user.id,a.data.user.traits)),"reset"===a.data.event&&(c=e.steps[0]),c&&c.id!==(null==i?void 0:i.id)){let e=!!((0,l.isMediaStep)(i)&&(0,l.isMediaStep)(c)&&(null==i?void 0:null===(u=i.hotspots)||void 0===u?void 0:u.some(e=>"pulsating"===e.style))&&(null===(d=c.hotspots)||void 0===d?void 0:d.some(e=>"pulsating"===e.style)));o(e),r({type:"SET_ACTIVE_STEP",id:c.id}),t.report("Remote Control Step Navigated",{stepId:c.id,origin:a.origin})}}};return null===(a=window.parent)||void 0===a||a.postMessage({event:"arcade-state-update",arcade:{...K()(e,["id","name","description"]),steps:e.steps.map((e,t)=>({...K()(e,["id","description","type"]),order:t+1,isActive:e.id===(null==i?void 0:i.id),name:(0,l.getStepName)(e)}))}},"*"),window.addEventListener("message",s),()=>{window.removeEventListener("message",s)}},[null==i?void 0:i.id,e,r,n,t])};var Z=n(1993),G=n(1316);function X(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n]}var J=e=>{let{frameVisibility:t,unifiedState:n,autoplayStatus:i}=e,{current:r}=(0,p.useRef)({activityTimeout:-1,currentStepStartActiveTime:null,windows:[]}),o=(0,p.useCallback)(()=>{let e=r.windows[r.windows.length-1];return!!e&&!e.end},[r]),l=(0,p.useCallback)(()=>{o()||r.windows.push({start:Date.now()})},[o,r]),a=(0,p.useCallback)(()=>{let e=r.windows[r.windows.length-1];e&&o()&&(e.end=Date.now())},[r,o]),[s,u]=(0,p.useState)(!1),d=(0,p.useMemo)(()=>i!==M.XM.On&&n.status!==N.jX.Paused,[i,n.status]),c=(0,G.y)(()=>{u(!0),clearTimeout(r.activityTimeout),r.activityTimeout=setTimeout(()=>{X("activity - timeout"),u(!1)},3e4)},[r],100);(0,p.useEffect)(()=>(window.addEventListener("touchmove",c),window.addEventListener("mousemove",c),window.addEventListener("click",c),window.addEventListener("keydown",c),()=>{window.removeEventListener("touchmove",c),window.removeEventListener("mousemove",c),window.removeEventListener("click",c),window.removeEventListener("keydown",c)}),[c]),(0,p.useEffect)(()=>{s?(X("activity - user active - start counting"),l()):d?X("activity - media playing, do nothing"):(X("activity - stop counting"),clearTimeout(r.activityTimeout),a())},[r,s,d,l,a]),(0,p.useEffect)(()=>{"hidden"===t.state&&(X("activity - visibility hidden"),u(!1))},[t,r,a]);let m=(0,p.useMemo)(()=>({get stepActiveTimeMs(){if(!r.currentStepStartActiveTime)return this.totalActiveTimeMs;return this.totalActiveTimeMs-r.currentStepStartActiveTime},get totalActiveTimeMs(){let e=0;for(let{start:t,end:n}of r.windows)e+=n?n-t:Date.now()-t;return e},newStep(){X("activity - new step"),r.currentStepStartActiveTime=this.totalActiveTimeMs}}),[r]);return m},Q=n(79764),Y=n(66120),$=n(6364);function ee(e){var t,i,r,a,u,f,v,h,g,k,T,S,x,E,I,_,j,M,O,A,P,R,N,F,V,B,D,L,U,q,H,W,K,Z,G;let{twitterCardHeight:X,demoBaseUrl:J,appBaseUrl:Y,previewThumbUrl:ee,features:en,watermarkCustomProps:ei,showArcadeButton:er,flowBelongsToFreeUser:eo,integrations:el}=e,{flow:ea,customLink:es,customValues:eu}=(0,b.u)(),[ed]=(0,p.useState)(()=>(0,$.Z)()),ec=(0,C.yL)(),ep=(0,c.useRouter)(),em=(0,m.sJ)(w.H.firstStepContentIsReady),ef=!!(null==en?void 0:en[s.Feature.DoNotTrack]),ev=(0,p.useMemo)(()=>{var e,t,n,i,r,o,l,a,s;return{queryBgUrl:null!==(e=ep.query.bg)&&void 0!==e?e:"",forcePublishToHost:"true"===ep.query.force_publish_to_host,forceNoStartOverlay:"true"===ep.query.force_no_start_overlay,forceNoCta:"true"===ep.query.force_no_cta,forceNoWrapper:"true"===ep.query.force_no_wrapper,forceNoBackground:"true"===ep.query.force_no_background,forceNoFullscreen:"true"===ep.query.force_no_fullscreen,forceNoNavigation:"true"===ep.query.force_no_nav,forceWatermark:"true"===ep.query.force_watermark,forceEmbed:"embed"in ep.query,forceNoMobileView:"true"===ep.query.force_no_mobile_view,userId:null!==(t=ep.query.user_id)&&void 0!==t?t:"",amplitudeApiKey:null!==(n=ep.query.amplitude_api_key)&&void 0!==n?n:"",measurementId:null!==(i=ep.query.measurement_id)&&void 0!==i?i:"",containerId:null!==(r=ep.query.container_id)&&void 0!==r?r:"",mixpanelToken:null!==(o=ep.query.mixpanel_token)&&void 0!==o?o:"",writeKey:null!==(l=ep.query.write_key)&&void 0!==l?l:"",intercomAppId:null!==(a=ep.query.intercom_app_id)&&void 0!==a?a:"",portalId:null!==(s=ep.query.portal_id)&&void 0!==s?s:""}},[ep.query]),{forceEmbed:eh,measurementId:eg,mixpanelToken:ey,forcePublishToHost:eb,amplitudeApiKey:ew,portalId:ek,intercomAppId:eT,containerId:eS,writeKey:ex,userId:eE}=ev;(0,p.useEffect)(()=>{!ep.isReady||ec||eh||("demo.arcade.software"===window.location.hostname?ep.push("https://app.arcade.software/share/".concat(ea.id)):ep.push("/share/".concat(ea.id)))},[ec,ea.id,ep,eh]);let eI=(0,Q.r)("Viewer",{sessionId:ed,flowId:ea.id,flowName:ea.name,flowGroup:null!==(V=ea.group)&&void 0!==V?V:"",flowStructureHash:null!==(B=ea.structureHash)&&void 0!==B?B:"",pageWidth:C.jU?window.innerWidth:0,pageHeight:C.jU?window.innerHeight:0,customLinkId:null!==(D=null==es?void 0:es.id)&&void 0!==D?D:null,hasCustomValues:!!Object.keys(eu).length},{shouldPublishToHost:eb||(null==en?void 0:en[s.Feature.PublishEventsToHost]),shouldAnonymizeIP:null==en?void 0:en[s.Feature.DisableIPTracking],doNotTrack:ea.status!==s.PublishStatus.published||ef});return(0,p.useEffect)(()=>{let e=e=>{var t,n,i;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.event)==="cookie-consent"&&(null===(n=(i=window)._doNotTrackUnblock)||void 0===n||n.call(i),window._doNotTrack=!1,eI.enableTracking(),eI.report("Enable Tracker",{origin:null==e?void 0:e.origin}))};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[ea,eI]),(0,p.useEffect)(()=>{if(ed){var e;null===(e=window.parent)||void 0===e||e.postMessage({event:"arcade-session-id",sessionId:ed,flowId:ea.id},"*")}},[ea.id,ed]),z(ea,eI,((null==en?void 0:en[s.Feature.PublishEventsToHost])||eb)&&em),!function(e){let{config:t,userId:i,shouldAnonymizeIP:r,doNotTrack:o}=e;(0,p.useEffect)(()=>{0===t.targets.filter(e=>!!e.key).length||window.__arcadeTracker||(async()=>{let e=(await n.e(8249).then(n.bind(n,8249))).default,l=(await n.e(6631).then(n.bind(n,66631))).default,a=[l()];for(let e of t.targets)if(e.key)switch(e.name){case"Amplitude":{var s,u,d,c,p,m;let t=null===(u=e.key)||void 0===u?void 0:null===(s=u.split("__"))||void 0===s?void 0:s[0],i=(null===(p=e.key)||void 0===p?void 0:null===(c=p.split("__"))||void 0===c?void 0:null===(d=c[1])||void 0===d?void 0:d.toLowerCase())==="eu"?"EU":"US",l=(await n.e(3328).then(n.bind(n,43328))).default;a.push(l({apiKey:t,options:{identityStorage:"localStorage",defaultTracking:{sessions:!1,pageViews:!1,formInteractions:!1,fileDownloads:!1},optOut:!!o||(null===(m=navigator)||void 0===m?void 0:m.doNotTrack)==="1",trackingOptions:{ipAddress:!r},serverZone:i}}));break}case"Google Analytics":a.push((await n.e(7309).then(n.bind(n,47309))).default({measurementIds:[e.key],gtagConfig:{anonymize_ip:r}}));break;case"Google Tag Manager":a.push((await n.e(198).then(n.bind(n,80198))).default({containerId:e.key}));break;case"HubSpot":a.push((await n.e(1737).then(n.bind(n,71737))).default({portalId:e.key}));break;case"Intercom":a.push((await n.e(7811).then(n.bind(n,37811))).default({appId:e.key,disableAnonymousTraffic:!1,alignment:"right"}));break;case"Mixpanel":a.push((await n.e(4224).then(n.bind(n,14224))).default({token:e.key}));break;case"Posthog":a.push((await n.e(4267).then(n.bind(n,54267))).default({token:e.key,enabled:!0,options:{}}));break;case"Segment":a.push((await n.e(6981).then(n.bind(n,56981))).default({writeKey:e.key}))}let f=e({app:"arcade",plugins:a});f.ready(()=>{!window.__arcadeTracker&&(window.__arcadeTracker=f,i&&window.__arcadeTracker.identify(i))})})()},[t,o,r,i])}({config:{targets:[{name:"Amplitude",key:(ew||(null==el?void 0:null===(t=el.amplitude)||void 0===t?void 0:t.enabled))&&null!==(L=null==el?void 0:null===(r=el.amplitude)||void 0===r?void 0:null===(i=r.config)||void 0===i?void 0:i.amplitude_api_key)&&void 0!==L?L:""},{name:"Google Analytics",key:(eg||(null==el?void 0:null===(a=el["google-analytics"])||void 0===a?void 0:a.enabled))&&null!==(U=null==el?void 0:null===(f=el["google-analytics"])||void 0===f?void 0:null===(u=f.config)||void 0===u?void 0:u.measurement_id)&&void 0!==U?U:""},{name:"Google Tag Manager",key:(eS||(null==el?void 0:null===(v=el["google-tag-manager"])||void 0===v?void 0:v.enabled))&&null!==(q=null==el?void 0:null===(g=el["google-tag-manager"])||void 0===g?void 0:null===(h=g.config)||void 0===h?void 0:h.container_id)&&void 0!==q?q:""},{name:"HubSpot",key:(ek||(null==el?void 0:null===(k=el["hubspot-analytics"])||void 0===k?void 0:k.enabled))&&null!==(H=null==el?void 0:null===(S=el["hubspot-analytics"])||void 0===S?void 0:null===(T=S.config)||void 0===T?void 0:T.portal_id)&&void 0!==H?H:""},{name:"Intercom",key:(eT||(null==el?void 0:null===(x=el.intercom)||void 0===x?void 0:x.enabled))&&null!==(W=null==el?void 0:null===(I=el.intercom)||void 0===I?void 0:null===(E=I.config)||void 0===E?void 0:E.intercom_app_id)&&void 0!==W?W:""},{name:"Mixpanel",key:(ey||(null==el?void 0:null===(_=el.mixpanel)||void 0===_?void 0:_.enabled))&&null!==(K=null==el?void 0:null===(M=el.mixpanel)||void 0===M?void 0:null===(j=M.config)||void 0===j?void 0:j.mixpanel_token)&&void 0!==K?K:""},{name:"Posthog",key:(null==el?void 0:null===(O=el.posthog)||void 0===O?void 0:O.enabled)&&null!==(Z=null==el?void 0:null===(P=el.posthog)||void 0===P?void 0:null===(A=P.config)||void 0===A?void 0:A.project_api_key)&&void 0!==Z?Z:""},{name:"Segment",key:(ex||(null==el?void 0:null===(R=el.segment)||void 0===R?void 0:R.enabled))&&null!==(G=null==el?void 0:null===(F=el.segment)||void 0===F?void 0:null===(N=F.config)||void 0===N?void 0:N.write_key)&&void 0!==G?G:""}]},userId:eE,shouldAnonymizeIP:!!(null==en?void 0:en[s.Feature.DisableIPTracking]),doNotTrack:ef}),(0,p.useEffect)(()=>(document.body.classList.add("overflow-hidden"),()=>{document.body.classList.remove("overflow-hidden")}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d(),{children:[(0,o.jsx)("title",{children:(0,l.withCustomVariables)(ea.name,ea.customVariables,eu)}),(0,o.jsx)("link",{rel:"preconnect",href:"https://stream.mux.com"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://image.mux.com"})]}),(0,o.jsx)(y.i,{demoBaseUrl:J,appBaseUrl:Y,previewThumbUrl:ee,twitterCardHeight:X}),(0,o.jsx)(et,{tracker:eI,features:en,showArcadeButton:er,watermarkCustomProps:ei,flowBelongsToFreeUser:eo,...ev})]})}function et(e){var t,n,i;let{features:r,watermarkCustomProps:u,showArcadeButton:c,flowBelongsToFreeUser:y,tracker:T,forceEmbed:S=!1,forceNoFullscreen:U=!1,forceNoWrapper:W=!1,forceNoBackground:K=!1,forceNoMobileView:z=!1,forceNoNavigation:G=!1,forceNoCta:X=!1,forceNoStartOverlay:Q=!1,forceWatermark:$=!1,queryBgUrl:ee="",isUploadPreview:et=!1}=e,{flow:en,hasWrapper:ei,activeStep:er}=(0,b.u)(),eo=!!(null==r?void 0:r[s.Feature.DoNotTrack]),el=(0,p.useRef)(null),ea=(0,m.sJ)(w.H.isFullscreen),es=(0,m.sJ)(w.H.showFlowNavIndicator),eu=(0,C.yL)(),{isScreenSizeSmall:ed}=(0,R.Q)({forceNoMobileView:z,flow:en}),[ec,ep]=(0,p.useState)(!1);(0,p.useEffect)(()=>{setTimeout(()=>ep(!0),0)},[]);let em=q(),{isOnFirstStep:ef,isOnLastStep:ev,hasArcadeEnded:eh,autoplayStatus:eg,soundSetting:ey,isCaptionOn:eb,updateSound:ew,toggleCaptions:ek,copyLink:eT,registerVoiceover:eS,voiceoverCaption:ex,registerActiveVideo:eE,unifiedState:eI,unifiedControls:eC,viewerNavigationActions:e_,navigationElementWithSound:ej,enterNavigationElement:eM,leaveNavigationElement:eO}=function(e){var t;let{tracker:n,frameVisibility:i,doNotTrack:r}=e,{flow:o,activeStep:a,autoplayStatus:u,firstStepCount:d,mediaEnded:c,dispatch:f}=(0,b.u)(),{isScreenSizeSmall:v}=(0,R.Q)({flow:o}),[h,g]=(0,p.useState)(!1),[y,k]=(0,p.useState)(null),T=(0,m.sJ)(w.H.isStartOverlayActive);!function(e){let{tracker:t}=e,n=(0,F.Z)(),{flow:i}=(0,b.u)(),[r,o]=(0,m.FV)(w.H.viewerDemoMode);(0,V.x6)("d",{meta:(0,C.eE)(),ctrl:!(0,C.eE)(),shift:!0},()=>{t.report("Demo Mode Toggle",{isOn:!r}),o(!r),j.ZP.success("Hotspots/Callouts are now ".concat(r?"visible":"hidden"))},void 0,n.flows.mayUseViewerDemoMode),(0,p.useEffect)(()=>{o(!!i.demoModeByDefault)},[i.demoModeByDefault,o])}({tracker:n});let S=!!a&&(null===(t=(0,l.getFirstNonEmptyStep)(o.steps))||void 0===t?void 0:t.id)===(null==a?void 0:a.id),x=(0,p.useMemo)(()=>{var e,t;return(0,l.isImageStep)(a)&&0===a.hotspots.length||(null===(e=o.steps[o.steps.length-1])||void 0===e?void 0:e.id)===(null==a?void 0:a.id)||(0,l.isNonEmptyStep)(a)&&!!(null===(t=a.cta)||void 0===t?void 0:t.id)},[a,o.steps]),E=(0,l.isNonEmptyStep)(a)?a.syntheticVoice:void 0,I=(0,p.useMemo)(()=>!T&&(!S||!(d<=1)||u===M.XM.On),[T,S,d,u]),{soundSetting:L,isCaptionOn:U,updateSound:q,toggleCaptions:H}=(0,B.U)({tracker:n}),[W,K,z]=(0,N.pJ)({forceMuted:L!==B.E.On}),Z=u===M.XM.Off&&!!a&&x&&!S&&(!(0,A.FQ)(a)||K.ended),G=(0,p.useCallback)(e=>{W({element:e,key:"ACTIVE_VOICEOVER",buffer:_.VOICEOVER_BUFFER})},[W]),X=(0,l.isVideoStep)(a),J=X?a.muted:void 0,Q=X?a.playbackRate:void 0,Y=X?(0,C.zB)(a,!1):void 0,$=X?(0,C.XB)(a,!1):void 0,ee=(0,p.useCallback)(e=>{X&&W({element:e,key:"ACTIVE_VIDEO",playbackRate:Q,startTimeFrac:Y,endTimeFrac:$,muted:J})},[W,X,Q,Y,$,J]),et=(0,p.useMemo)(()=>(0,C._o)(null==E?void 0:E.script,10),[null==E?void 0:E.script]),en=K.activeSourceState.get("ACTIVE_VOICEOVER"),ei=(0,p.useMemo)(()=>en&&!en.inBuffer?(0,C.$y)({chunks:et,chunkSize:10,timepoints:null==E?void 0:E.timepoints},en):"",[E,en,et]),[er,eo]=(0,C.T8)(o.steps);(0,p.useEffect)(()=>{if(!r)try{let e=localStorage.getItem(D);if(e){let t=+e;t>=er&&t<=eo&&z.updatePlaybackRate(t)}}catch(e){}},[r,er,eo,z]),(0,p.useEffect)(()=>{if(!r)try{K.playbackRate!==P.mw?localStorage.setItem(D,"".concat(K.playbackRate)):localStorage.removeItem(D)}catch(e){}},[r,K.playbackRate]),(0,p.useEffect)(()=>{f({type:"SET_MEDIA_ENDED",ended:K.ended})},[f,K.ended]),function(e){let{src:t,hasArcadeEnded:n,duckingEnabled:i,isMuted:r,defaultVolume:o=_.DEFAULT_BG_MUSIC_VOLUME}=e,l=(0,p.useRef)(),a=(0,p.useRef)(),s=(0,p.useRef)(),u=Math.min(o,_.DUCKING_BG_MUSIC_VOLUME),d=(0,p.useRef)(i);d.current=i,(0,p.useEffect)(()=>{if(t)return l.current=new Audio(t),l.current.crossOrigin="anonymous",l.current.loop=!0,l.current.muted=!0,l.current.addEventListener("play",function(){var e;if(!l.current||a.current||s.current)return;l.current.muted=!1,a.current=new AudioContext,s.current=a.current.createGain(),s.current.gain.value=1;let t=null===(e=a.current)||void 0===e?void 0:e.createMediaElementSource(l.current);t.connect(s.current),s.current.connect(a.current.destination),s.current.gain.value=d.current?u:o},{once:!0}),()=>{l.current&&(l.current.pause(),l.current=void 0),s.current&&(s.current.disconnect(),s.current=void 0),a.current&&(a.current.suspend(),a.current.close(),a.current=void 0)}},[t,o,u]);let c=(0,p.useCallback)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;l.current&&s.current&&a.current&&(s.current.gain.cancelScheduledValues(a.current.currentTime),t?s.current.gain.setTargetAtTime(e,a.current.currentTime+n,t):s.current.gain.value=e)},[]);(0,p.useEffect)(()=>{var e,t;if(!l.current)return;if(r)return c(0,0);if(n)return c(0,2);l.current.paused&&(null===(e=l.current.play())||void 0===e||e.catch(()=>{}));let a=(null===(t=s.current)||void 0===t?void 0:t.gain.value)===0?null:.1;return i?c(u,a):c(o,a,.25)},[n,i,r,o,u,c])}({src:o.backgroundMusicUrl,defaultVolume:o.backgroundMusicVolume,hasArcadeEnded:Z,duckingEnabled:!K.muted,isMuted:L!==B.E.On}),(0,p.useEffect)(()=>{let{state:e}=i;if(null===e)return;let t="hidden"!==e;f({type:"SET_VISIBLE",visible:t}),t?h&&(z.play(),g(!1)):K.status!==N.jX.Paused&&(z.pause(),g(!0))},[i,n,f,z,K.status,h]),(0,p.useEffect)(()=>{let{state:e,visibleTimeMs:t,visibleTimeExceedsThreshold:r}=i;null!==e&&n.report("Frame Visibility",{state:e,visibleTimeMs:t,visibleTimeExceedsThreshold:r})},[i,n]);let el=(0,m.sJ)(w.H.viewerFormResponses),ea=(0,p.useMemo)(()=>(0,O.IY)(o.steps),[o.steps]),es=(0,p.useCallback)((e,t)=>{let n=(()=>{if(t)return e;let n=ea.findIndex(e=>{let{id:t}=e;return t===(null==a?void 0:a.id)}),i=ea.findIndex(t=>{let{id:n}=t;return n===e});if(n>i)return e;for(let e=n;e<=i;e++){let t=ea[e];if((null==t?void 0:t.type)===s.StepType.Overlay&&t.variant===s.OverlayVariant.Form){var r;let e=null===(r=t.formFields)||void 0===r?void 0:r.some(e=>"input"===e.pathType&&e.required);if(e&&!el[t.id])return t.id}}return e})();if(n){if(f({type:"TURN_OFF_AUTOPLAY"}),q(e=>e===B.E.Unset?B.E.On:e),(null==E?void 0:E.url)&&!K.everPlayed){f({type:"SET_NAVIGATE_TO_ON_ENDED",id:n}),z.play();return}f({type:"SET_ACTIVE_STEP",id:n})}},[el,f,q,null==E?void 0:E.url,K.everPlayed,ea,null==a?void 0:a.id,z]),eu=L===B.E.Unset&&(0,A.Kt)(o)?v?"ALL":y:null,ed=(0,p.useCallback)(e=>{k(e)},[]),ec=(0,p.useCallback)(e=>{k(t=>t===e?null:t)},[]),ep=function(e){let{onNavigate:t,isOnLastStep:n,tracker:i}=e,{flow:r,activeStep:o}=(0,b.u)(),a=(0,p.useMemo)(()=>o?(0,l.getNextNonEmptyIndexedStep)(r.steps,o,!0):void 0,[r.steps,o]),u=(0,p.useMemo)(()=>o?(0,l.getNextNonEmptyIndexedStep)(r.steps,o,!1):void 0,[r.steps,o]),d=(0,p.useMemo)(()=>o?(0,l.getPrevNonEmptyIndexedStep)(r.steps,o,!1):void 0,[r.steps,o]),c=!!o&&r.status===s.PublishStatus.published,m=(0,p.useCallback)(e=>{t(e.id),c&&i.report("Progress Bar Nav Clicked",{fromStepId:o.id,toStepId:e.id})},[i,c,t,null==o?void 0:o.id]),f=(0,p.useCallback)(()=>{u&&(t(u.id),c&&i.report("Caption Clicked",{fromStepId:o.id,toStepId:u.id}))},[null==o?void 0:o.id,u,c,i,t]),v=(0,p.useCallback)(()=>{d&&(t(d.id),c&&i.report("Caption Clicked",{fromStepId:o.id,toStepId:d.id}))},[null==o?void 0:o.id,d,c,i,t]),h=(0,p.useCallback)(()=>{u&&(t(u.id),c&&i.report("Navigated With Arrow Right Key",{fromStepId:o.id,toStepId:u.id}))},[u,o,t,c,i]),g=(0,p.useCallback)(()=>{d&&(t(d.id),c&&i.report("Navigated With Arrow Left Key",{fromStepId:o.id,toStepId:d.id}))},[null==o?void 0:o.id,d,c,i,t]);(0,V.x6)("ArrowRight",{},h,!0),(0,V.x6)("ArrowLeft",{},g,!0);let y=(0,p.useCallback)(function(){let e,{hotspot:n,path:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n||i){let t=(null==n?void 0:n.targetId)||(null==i?void 0:i.targetStepId),o=t?r.steps.find(e=>{let{id:n}=e;return n===t}):void 0;e=null!=o?o:a}else e=a;e&&t(e.id,!0)},[r.steps,a,t]),w=(0,p.useCallback)(e=>{if(y({hotspot:e}),c&&(0,l.isMediaStep)(o)){var t,n;i.report("Hotspot Clicked",{stepId:null!==(t=o.id)&&void 0!==t?t:"",hotspotId:e.id,hotspotLabel:e.label,targetStepId:null!==(n=e.targetId)&&void 0!==n?n:"Unassigned"})}},[y,o,c,i]),k=(0,p.useCallback)(e=>{if(y({path:e}),c&&(0,l.isOverlayStep)(o)){var t,n,r,a,s;i.report("Overlay Clicked",{stepId:null!==(t=o.id)&&void 0!==t?t:"",title:null!==(n=o.title)&&void 0!==n?n:"",subtitle:null!==(r=o.subtitle)&&void 0!==r?r:"",buttonLabel:e?null!==(a=e.buttonText)&&void 0!==a?a:"":(0,l.isOverlayStepWithPaths)(o)?"":o.buttonText,linkType:"button",buttonId:null!==(s=null==e?void 0:e.id)&&void 0!==s?s:"",linkUrl:"",isCta:!1})}},[y,o,c,i]),T=(0,p.useCallback)(async e=>{if(r.status===s.PublishStatus.published&&(0,l.isOverlayStep)(o)){var t,a,u,d,c,p,m;i.report("Overlay Clicked",{stepId:null!==(t=o.id)&&void 0!==t?t:"",title:null!==(a=o.title)&&void 0!==a?a:"",subtitle:null!==(u=o.subtitle)&&void 0!==u?u:"",buttonLabel:e?null!==(d=e.buttonText)&&void 0!==d?d:"":(0,l.isOverlayStepWithPaths)(o)?"":o.buttonText,linkType:"link",linkUrl:e?null!==(c=e.url)&&void 0!==c?c:"":(0,l.isOverlayStepWithPaths)(o)?"":null!==(p=o.actionUrl)&&void 0!==p?p:"",isCta:!e||n,buttonId:null!==(m=null==e?void 0:e.id)&&void 0!==m?m:""})}},[o,r.status,i,n]),S=(0,p.useCallback)(()=>{let e=(0,l.getFirstNonEmptyStep)(r.steps);e&&(t(e.id),c&&i.report("Flow Restarted",{}))},[r.steps,t,c,i]);return{onHotspotClick:w,onButtonClick:k,onOverlayUrlClick:T,navToStepClick:m,navCaptionClickNext:f,navCaptionClickPrev:v,replay:S}}({isOnLastStep:x,tracker:n,onNavigate:es}),em=(0,p.useMemo)(()=>"".concat((0,C.SV)(),"/share/").concat(o.id),[o.id]),ef=(0,p.useCallback)(()=>{navigator.clipboard.writeText(em+"?ref=share-link").then(()=>{j.ZP.success("Link copied",{position:"top-center"}),n.report("Copy Share Link Clicked",{success:!0})}).catch(()=>n.report("Copy Share Link Clicked",{success:!1}))},[em,n]);(0,p.useEffect)(()=>{c&&(null==a?void 0:a.id)&&(null==a?void 0:a.type)===s.StepType.Video&&n.report("Video Ended",{stepId:a.id})},[c,n,null==a?void 0:a.id,null==a?void 0:a.type]),(0,p.useEffect)(()=>{(null==a?void 0:a.id)&&I&&z.play()},[z,null==a?void 0:a.id,I]);let ev=(0,l.isImageStep)(a)||(0,l.isOverlayStep)(a)&&a.variant!==s.OverlayVariant.Form?(0,l.getStepTextTime)(a,(0,l.selectFlowAutoplay)(o)):void 0;return(0,p.useEffect)(()=>{if((null==a?void 0:a.id)&&void 0!==ev){let e=setTimeout(()=>f({type:"SET_TEXT_ENDED",ended:!0}),ev);return()=>{f({type:"SET_TEXT_ENDED",ended:!1}),clearTimeout(e)}}return()=>f({type:"SET_TEXT_ENDED",ended:!1})},[null==a?void 0:a.id,ev,f]),{isOnFirstStep:S,isOnLastStep:x,hasArcadeEnded:Z,autoplayStatus:u,soundSetting:L,isCaptionOn:U,updateSound:q,toggleCaptions:H,unifiedState:K,unifiedControls:z,registerActiveVideo:ee,registerVoiceover:G,voiceoverCaption:ei,viewerNavigationActions:ep,navigationElementWithSound:eu,enterNavigationElement:ed,leaveNavigationElement:ec,copyLink:ef}}({tracker:T,frameVisibility:em,doNotTrack:eo}),[eA,eP]=(0,p.useState)(!1);(0,p.useEffect)(()=>{en.firstViewed||eA||(T.report("Flow First Viewed",{}),eP(!0))},[eA,en,T]);let eR=J({frameVisibility:em,unifiedState:eI,autoplayStatus:eg}),eN=W?s.FlowWrapper.none:en.flowWrapper,eF=K?void 0:ee||(null===(t=en.bgImage)||void 0===t?void 0:t.url),eV=en.showStartOverlay&&!Q,eB=eF&&!ed?.8:1,[eD,eL]=(0,m.FV)(w.H.stageDimensions),{aspectRatio:eU,dimensions:eq}=(0,L.a9)(en,!1,!0),eH=(0,p.useCallback)(()=>{let e=eN===s.FlowWrapper.none||ed?0:2.2,t=(window.innerWidth-e)*eB,n=(window.innerWidth-e)*eB*eU;eL({width:t,height:n}),(eu||S)&&window.parent.postMessage(JSON.stringify({src:window.location.toString(),context:"iframe.resize",height:n}),"*")},[eN,eU,ed,eL,eB,eu,S]);(0,Z.y)({watchBody:!0,onResize:eH});let eW=(0,p.useMemo)(()=>new a.Z(en.steps,en.structureBits),[en.steps,en.structureBits]),eK=(0,H.D)(er);(0,p.useEffect)(()=>{if((null==er?void 0:er.id)&&er.id!==(null==eK?void 0:eK.id)){var e;let t=er.id,n=null!==(e=null==eK?void 0:eK.id)&&void 0!==e?e:null;T.report("Step Reached",{stepId:t,fromStepId:n,isInitialStep:!eK,isFinalStep:ev,fromStepActiveTimeMs:eR.stepActiveTimeMs,totalActiveTimeMs:eR.totalActiveTimeMs,...eW.getStepReachedProps(t,n)}),eR.newStep()}},[er,eK,ev,T,eW,eR]);let{buttonBgColor:ez,buttonFgColor:eZ}=(0,p.useMemo)(()=>(0,Y.q)(en),[en]),eG=(0,p.useCallback)(e=>(window.open((null==u?void 0:u.link)||"https://arcade.software",(null==u?void 0:u.openInTheSameTab)?"_parent":"_blank"),(null==u?void 0:u.link)&&(null==u?void 0:u.openInTheSameTab)&&(window.parent.location=(null==u?void 0:u.link)||"https://arcade.software"),T.report("Powered by Arcade Button Clicked",(null==u?void 0:u.link)?{url:null==u?void 0:u.link,expanded:e}:{expanded:e}),!0),[T,u]),eX=(0,p.useCallback)(()=>{T.report("Discovered Arcade Button",{})},[T]),eJ=(0,p.useCallback)(()=>{T.report("Closed Arcade Button",{})},[T]);(0,p.useEffect)(()=>(window.onbeforeunload=()=>{T.report("Page Unloaded",{totalActiveTimeMs:eR.totalActiveTimeMs})},()=>{window.onbeforeunload=null}),[T,eR]);let eQ=c||$,[eY,e$]=(0,p.useState)(!1);(0,p.useEffect)(()=>{eQ&&y&&ev&&!ef&&!ed&&e$(!0),ed&&e$(!1)},[eQ,y,ev,ed,ef]);let e0=(0,p.useMemo)(()=>{let e=eD.width>2e3,t=16;return e&&(t=.01*eD.width<30?.01*eD.width:30),Math.max(16,t)},[eD.width]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(d(),{children:[en.font!==P.Uo&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""})]}),(0,o.jsx)("style",{type:"text/css",children:"\n          ".concat(ea?"html { font-size: ".concat(e0,"px }"):""," \n          body {\n            font-family: ").concat(en.font,', ui-sans-serif, system-ui, -apple-system, system-ui, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;\n          }')})]}),en.font!==P.Uo&&(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=".concat(en.font,"&display=swap"),rel:"stylesheet"}),(0,o.jsxs)("div",{className:(0,l.cn)("w-full overflow-hidden flex h-screen transition-opacity",{"bg-transparent":!!eF&&!ed,"items-start justify-center":!ea,"bg-black items-center justify-center":ea,"opacity-0":!eu&&!S&&!et,"opacity-100":eu||S||et,"!items-start rounded-lg":ed,"!items-center":!ei&&eF&&!ed}),children:[ed&&(0,o.jsx)("div",{className:(0,l.cn)("absolute flex inset-0 bottom-[1px] pointer-events-none rounded-lg border border-gray-900/[.16]"),style:{zIndex:(0,k.LM)(k.KN.MobileInnerBorder)}}),!ed&&eF&&(0,o.jsx)(g.Z,{className:(0,l.cn)("select-none absolute top-0 left-0 transform-gpu transition-opacity duration-1000",{"opacity-0":0===eU,"opacity-100":eU>0}),src:(0,C.R9)(eF),alt:"background",layout:"fill",objectPosition:"0 0",objectFit:"cover",placeholder:"blur",blurDataURL:(null===(n=en.bgImage)||void 0===n?void 0:n.blurhash)&&"undefined"!=typeof document?(0,C.vl)(en.bgImage.blurhash,100,100*en.aspectRatio):P.Rz,priority:!0}),(0,o.jsxs)(h.Z,{className:(0,l.cn)({"opacity-100 transition-opacity transform-gpu duration-300":ec}),title:null!==(i=en.externalName)&&void 0!==i?i:en.name,replay:e_.replay,hasBackgroundImage:!!eF&&!ed,wrapperType:eN,features:r,stageRef:el,copyLink:eT,soundSetting:ey,autoplayStatus:eg,disableFullscreen:U,isCaptionOn:eb,updateSound:ew,toggleCaptions:ek,hasArcadeEnded:eh,navigationElementWithSound:ej,tracker:T,children:[(0,o.jsxs)(x,{className:"w-full h-full",shouldRender:!!eV,buttonText:en.startOverlayButtonText,buttonBgColor:ez,buttonFgColor:eZ,onRendered:e=>{T.report("Start Overlay Rendered",{buttonText:e})},onDismissed:()=>{T.report("Start Overlay Dismissed",{})},children:[(0,o.jsx)(v.Z,{flow:en,tracker:T,disableCTA:X,disableNavigation:G,isWatermarkDisplayed:eQ,disableTracking:!!(null==r?void 0:r["Do Not Track"]),stageRef:el,inEditMode:!1,isUploadPreview:et,navigationElementWithSound:ej,enterNavigationElement:eM,leaveNavigationElement:eO,registerActiveVideo:eE,registerActiveVoiceover:eS,unifiedState:eI,unifiedControls:eC,onClickStage:function(){if(!(0,l.isNonEmptyStep)(er))return;let e=eI.status===N.jX.Paused;T.report(e?"Step Played":"Step Paused",{stepId:er.id,stepType:er.type,isMobile:(0,C.tq)(),hasSyntheticVoice:!!er.syntheticVoice,hasBackgroundMusic:!!en.backgroundMusicUrl,mechanism:"fullscreen"}),e?(eC.play(),ew(e=>e===B.E.Unset?B.E.On:e)):eC.pause()},updateSound:ew,flowDimensions:eq,...e_}),(0,o.jsx)(f.E,{shouldDisplay:eQ,onClick:eG,onMouseEnter:eX,customProps:u,expanded:eY,onClose:eJ})]}),en.showCaptions&&(0,o.jsx)(I,{enabled:eb,currentCaption:ex,lifted:es})]})]}),(0,o.jsx)(E.g,{position:"top-center"})]})}},93177:function(e,t,n){"use strict";n.d(t,{i:function(){return m}});var i=n(52322),r=n(72369),o=n(10800),l=n(97729),a=n.n(l),s=n(45847),u=n.n(s),d=n(48580),c=n(54534),p=n(49143);function m(e){let{previewThumbUrl:t,demoBaseUrl:n,appBaseUrl:l,twitterCardHeight:s}=e,{flow:m,customLink:f}=(0,c.u)(),v=1920*m.aspectRatio,h=f?"/".concat(f.id):"",g=(0,o.withCustomVariables)(m.name,m.customVariables,null==f?void 0:f.variables),y=(0,o.withCustomVariables)(m.description,m.customVariables,null==f?void 0:f.variables);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("link",{rel:"iframely app",type:"text/html",href:"".concat(n,"/").concat(m.id).concat(h,"?embed"),media:"aspect-ratio: 1920/".concat(v,"; padding-bottom:").concat(r.BROWSER_BAR_OR_CAPTION_HEIGHT)}),(0,i.jsx)("link",{rel:"alternate",type:"application/json+oembed",href:"".concat((0,d.SV)(),"/api/oembed?url=").concat(encodeURI("".concat(l,"/share/").concat(m.id).concat(h))),title:g}),(0,i.jsx)("meta",{charSet:"UTF-8"}),(0,i.jsx)("meta",{name:"generator",content:"Powered by Arcade -- Creating interactive experiences. Visit us at https://arcade.software."}),(0,i.jsx)("meta",{content:"text/html; charset=UTF-8",httpEquiv:"Content-Type"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("meta",{name:"robots",content:"max-image-preview:large".concat(m.preventIndexing?",noindex,nofollow":"")}),(0,i.jsx)("meta",{name:"description",content:y}),(0,i.jsx)("meta",{name:"author",content:m.group}),(0,i.jsx)("meta",{name:"copyright",content:"Arcade Software"}),(0,i.jsx)("meta",{name:"twitter:card",content:"player"}),(0,i.jsx)("meta",{name:"twitter:site",content:"@arcade_demo"}),(0,i.jsx)("meta",{name:"twitter:title",content:g}),(0,i.jsx)("meta",{name:"twitter:description",content:y}),(0,i.jsx)("meta",{name:"twitter:image:alt",content:y}),(0,i.jsx)("meta",{name:"twitter:image",content:t}),(0,i.jsx)("meta",{name:"twitter:player",content:"".concat(n,"/").concat(m.id).concat(h)}),(0,i.jsx)("meta",{name:"twitter:player:width",content:"".concat(p.dm)}),(0,i.jsx)("meta",{name:"twitter:player:height",content:"".concat(s)}),(0,i.jsx)("meta",{property:"og:locale",content:"en_US"}),(0,i.jsx)("meta",{property:"og:site_name",content:"Arcade"}),(0,i.jsx)("meta",{name:"title",property:"og:title",content:g}),(0,i.jsx)("meta",{name:"description",property:"og:description",content:y}),(0,i.jsx)("meta",{name:"image",property:"og:image",content:t}),(0,i.jsx)("meta",{property:"og:url",content:"".concat(l,"/share/").concat(m.id).concat(h)}),(0,i.jsx)("meta",{property:"og:image:width",content:"".concat(p.dm)}),(0,i.jsx)("meta",{property:"og:image:height",content:"".concat(s)}),(0,i.jsx)("meta",{property:"og:type",content:"article"}),(0,i.jsx)("meta",{property:"article:modified_time",content:m.modified.toISOString()})]}),(0,i.jsx)(u(),{id:"ld-json",type:"application/ld+json",dangerouslySetInnerHTML:{__html:'{\n            "@context": "http://schema.org/",\n            "@type": "Article",\n            "mainEntityOfPage": {\n              "@type": "WebPage",\n              "@id": "'.concat(l,"/share/").concat(m.id).concat(h,'"\n            },\n            "author": {\n              "@type": "Organization",\n              "name": "').concat(m.group,'"\n            },\n            "publisher": {\n              "@type": "Organization",\n              "name": "Arcade Software",\n              "logo": {\n                "@type": "ImageObject",\n                "url": "https://cdn.arcade.software/images/button-logo-128.png"\n              }\n            },\n            "headline": "').concat(g,'",\n            "image": "').concat(t,'",\n            "datePublished": "').concat(m.created.toISOString(),'",\n            "dateModified": "').concat(m.modified.toISOString(),'"\n          }')}})]})}},39490:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var i=n(2784),r=n(53476),o=n(48580),l=n(3846),a=n(1993);function s(e){let{iframeRef:t,forceNoMobileView:n,flow:s}=e,[u,d]=(0,r.FV)(l.H.mobileInfo),c=(0,i.useCallback)(()=>{d(e=>({...e,isScreenSizeSmall:(0,o.OY)(null==s?void 0:s.aspectRatio,null==t?void 0:t.current),isMobile:(0,o.tq)()}))},[null==s?void 0:s.aspectRatio,t,d]);return(0,a.y)({targetRef:t,watchBody:!t,onResize:c,disabled:(null==s?void 0:s.optimizeFlowForMobileView)===!1||n}),(0,i.useEffect)(()=>{d(e=>({...e,isIOS:(0,o.tq)()&&(0,o.G6)()}))},[d]),(0,i.useEffect)(()=>{let e=(null==s?void 0:s.optimizeFlowForMobileView)===!1||n;d(n=>({...n,isScreenSizeSmall:!e&&(0,o.OY)(null==s?void 0:s.aspectRatio,null==t?void 0:t.current),isMobile:!e&&(0,o.tq)()}))},[null==s?void 0:s.aspectRatio,null==s?void 0:s.optimizeFlowForMobileView,d,t,n]),{...u}}},54554:function(e,t,n){"use strict";n.d(t,{jX:function(){return r},pJ:function(){return p}});var i,r,o=n(2784),l=n(72489),a=n(48580),s=n(49143);let u=4*s.PK,d=2*s.PK,c=s.PK;function p(e){let{forceMuted:t}=e,n=(0,o.useRef)(new Map([])),i=(0,o.useRef)(0),r=(0,o.useRef)(s.mw),p=(0,o.useRef)(t),y=(0,o.useRef)(0),[b,w]=(0,o.useState)(0),[k,T]=(0,o.useState)(s.mw),[S,x]=(0,o.useState)(0),[E,I]=(0,o.useState)(0),[C,_]=(0,o.useState)(!1),j=(0,o.useCallback)(e=>{i.current=e,w(e)},[]),M=(0,o.useCallback)(e=>{for(let[,t]of(r.current=e,T(e),n.current))t.element.playbackRate=t.playbackRate*e},[]),O=(0,o.useCallback)(()=>{x(f(n.current))},[]);p.current=t,(0,o.useEffect)(()=>{for(let[,e]of n.current)e.element.muted=t||e.muted},[t]);let A=(0,o.useCallback)(e=>{if(y.current>=6)return!0;let t=g(e.element.buffered),n=e.element.currentTime,i=!1;for(let e=0;e<t.length;e++)t[e][0]<=n&&t[e][1]>=n&&(i=!0);return i},[]),P=(0,o.useCallback)(e=>{if(y.current>=6)return!0;let t=g(e.element.buffered),n=e.element.currentTime,i=!1;for(let r=0;r<t.length;r++)if(t[r][0]<=n&&t[r][1]>=n){i=!0;let o=h(e.element.duration)*e.endTimeFrac-s.VF,l=o-n,a=u*e.element.playbackRate,c=y.current?(a-d)/(2*y.current):0,p=t[r][1]-n,m=Math.min(a-c,l);if(p<m)return!1}return i},[]),R=(0,o.useCallback)(()=>Array.from(n.current.values()).every(A),[A]),N=(0,o.useCallback)(()=>Array.from(n.current.values()).every(P),[P]),F=(0,o.useCallback)(()=>{let e=N(),t=R();I(n=>0===n?n:2===n&&t||e?2:1)},[N,R]),V=(0,o.useCallback)(()=>{let e=N(),t=R();I(n=>2===n&&t||e?2:1)},[N,R]),B=(0,o.useCallback)(()=>{I(0)},[]),D=(0,o.useCallback)(e=>{let t="to"in e?e.to:i.current+e.by;for(let[,e]of n.current)e.element.currentTime=v(t,e);let r=f(n.current);j(Math.min(t,r))},[j]),L=(0,o.useCallback)(async e=>{if(e.playPromise)await e.playPromise;else{var t;e.playPromise=null===(t=e.element.play())||void 0===t?void 0:t.catch(()=>{B()}),await e.playPromise,e.playPromise=null}},[B]),U=(0,o.useCallback)(e=>{var t,o,l,u,d,c;if(n.current.has(e.key)&&(e.element&&console.error("Source key already registered.",e.key),function(e){if(!n.current.has(e))return;let t=n.current.get(e);t.element.onplay=null,t.element.ondurationchange=null,t.element.onplaying=null,t.element.oncanplay=null,t.element.oncanplaythrough=null,t.element.onwaiting=null,t.element.onprogress=null,t.element.onsuspend=null,t.element.onstalled=null,t.element.pause(),n.current.delete(e);let r=f(n.current);i.current>r&&j(r),n.current.size||(y.current=0,B()),O(),F()}(e.key)),!e.element)return;let m={key:e.key,element:e.element,startTimeFrac:null!==(t=e.startTimeFrac)&&void 0!==t?t:s.Im,endTimeFrac:null!==(o=e.endTimeFrac)&&void 0!==o?o:s.rj,playbackRate:(0,a.RD)(null!==(l=e.playbackRate)&&void 0!==l?l:s.mw),offset:null!==(u=e.offset)&&void 0!==u?u:0,buffer:null!==(d=e.buffer)&&void 0!==d?d:0,muted:null!==(c=e.muted)&&void 0!==c&&c,playPromise:null};m.element.onplay=()=>_(!0),m.element.ondurationchange=O,m.element.onplaying=F,m.element.oncanplay=F,m.element.oncanplaythrough=F,m.element.onwaiting=F,m.element.onprogress=F,m.element.onsuspend=F,m.element.onstalled=F;let h=r.current*m.playbackRate,g=p.current||m.muted;m.element.currentTime=v(i.current,m)+.001,m.element.defaultMuted=g,m.element.muted=g,m.element.defaultPlaybackRate=h,m.element.playbackRate=h,n.current.set(e.key,m),O(),F()},[j,O,F,B]);(0,l.Z)(()=>{let e;if(2!==E){for(let[,e]of n.current)e.element.pause();return}let t=Date.now();return e=requestAnimationFrame(function o(){let l=Date.now(),a=(l-t)/1e3*r.current;t=l;let u=i.current,d=u+a,p=f(n.current);if(d>=p){B(),j(p),O(),e=void 0;return}for(let[,e]of(j(d),n.current)){var m;let t=h(e.element.duration)*e.startTimeFrac,n=h(e.element.duration)*e.endTimeFrac-s.VF,i=v(d,e),r=(m=e.element.currentTime)<=i+c&&m>=i-c;!r&&y.current<6&&(e.element.currentTime=i);let o=t<i&&e.element.currentTime<n;o&&e.element.paused?L(e):o||e.element.paused||e.element.pause()}e=requestAnimationFrame(o)}),()=>{e&&cancelAnimationFrame(e)}},[E,B,L,j,O,A]),(0,o.useEffect)(()=>{if(1!==E||y.current>=6)return;let e=null;return e=setTimeout(function t(){y.current++,6===y.current&&D({by:s.PK}),V(),y.current<6&&(e=setTimeout(t,5e3))},5e3),()=>{e&&clearTimeout(e)}},[E,D,V]);let q=(0,o.useMemo)(()=>({play:V,pause:B,seek:D,updatePlaybackRate:M}),[V,B,D,M]),H=(0,o.useMemo)(()=>{let e=new Map([]);if(b>=S)return e;for(let[,r]of n.current){var t,i;let n=m(r),o=r.offset+r.buffer,l=o+n,a=b>=o&&b<l,s=(t=o-r.buffer,i=l+r.buffer,b>=t&&b<i);s&&e.set(r.key,{time:v(b,r),duration:r.element.duration,inBuffer:!a})}return e},[b,S]),W=(0,o.useMemo)(()=>{var e;if(t)return!0;for(let[t]of H)if(!(null===(e=n.current.get(t))||void 0===e?void 0:e.muted))return!1;return!0},[H,t]);return[U,{status:E,duration:S,time:b,ended:!!S&&b>=S,everPlayed:C,muted:W,playbackRate:k,activeSourceState:H},q]}function m(e){return h(e.element.duration)*(e.endTimeFrac-e.startTimeFrac)/e.playbackRate}function f(e){let t=0;for(let[,n]of e){let e=m(n);e&&(t=Math.max(e+n.offset+2*n.buffer,t))}return t}function v(e,t){let n=m(t),i=t.offset+t.buffer,r=h(t.element.duration)*t.startTimeFrac,o=h(t.element.duration)*t.endTimeFrac;return e<=i?r:e>=i+n?o:(e-i)/n*(o-r)+r}function h(e){return isNaN(e)?0:e}function g(e){let t=[];if(!e.length)return t;t.push([e.start(0)-c,e.end(0)+c]);for(let n=1;n<e.length;n++){let i=e.start(n)-c,r=e.end(n)+c,o=t[t.length-1];i<=o[1]?o[1]=r:t.push([i,r])}return t}(i=r||(r={}))[i.Paused=0]="Paused",i[i.Buffering=1]="Buffering",i[i.Playing=2]="Playing"},79764:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var i=n(2784),r=n(24495);function o(e,t,n){let o=(0,r.h)(e,t,n);return(0,i.useEffect)(()=>{o.page()},[]),o}},4878:function(e,t,n){"use strict";let i=n(42825),r=n(21642),o=n(72608);function l(e,t){if((0,i.isImageStep)(e))return e.hotspots.map(e=>{var n;return null!==(n=e.targetId)&&void 0!==n?n:t});if((0,i.isVideoStep)(e)){var n,r,o;return[null!==(r=e.targetId)&&void 0!==r?r:t,...null!==(o=null===(n=e.hotspots)||void 0===n?void 0:n.map(e=>{var n;return null!==(n=e.targetId)&&void 0!==n?n:t}))&&void 0!==o?o:[]]}if((0,i.isOverlayStep)(e)){if((0,i.isOverlayStepWithPaths)(e))return e.paths.filter(e=>"step"===e.pathType).map(e=>{var n;return null!==(n=e.targetStepId)&&void 0!==n?n:t});if("next_step"===e.buttonType)return[t]}return[]}function a(e,t,n){let i={};for(let[r,o]of e.entries()){let e=t[r],l=n[e];i[l]=o}return i}class s{getStepReachedProps(e,t){var n,i;return{stepIndex:null!==(n=this.stepBits[e])&&void 0!==n?n:null,transitionIndex:null!==(i=this.transitionBits["".concat(t,":").concat(e)])&&void 0!==i?i:null,stepCount:this.structureBits.steps.length,transitionCount:this.structureBits.transitions.length}}getBranchStats(e,t,n){let i=[],r=0;for(let o of t){let t=n["".concat(e,":").concat(o)],l=this.stepIndex[o]+1;r+=t,i.push({conversionCount:t,toStepId:o,toStepNumber:l,conversionPercent:0})}return i.map(e=>({...e,conversionPercent:r>0?(0,o.percentage)(e.conversionCount,r):0}))}getDropoffCurveValues(e,t,n){let i=this.getRelevantStepBits(),l=this.getRelevantTransitionBits();e=i.map((t,n)=>{var i;return null!==(i=e[n])&&void 0!==i?i:0}),t=i.map((e,n)=>{var i;return null!==(i=t[n])&&void 0!==i?i:0}),n=l.map((e,t)=>{var i;return null!==(i=n[t])&&void 0!==i?i:0});let s=a(e,i,this.structureBits.steps),u=a(t,i,this.structureBits.steps),d=a(n,l,this.transitionIds),c=this.getKnownTransitions(),p=this.steps.map((e,t)=>{var n,i;return{reachedCount:null!==(n=s[e.id])&&void 0!==n?n:0,parentSteps:[],stepId:e.id,knownTransitions:0===t&&null!==(i=s[e.id])&&void 0!==i?i:0}});for(let[e,t]of this.steps.entries()){let n=p[e],i=t.id,r=c[i];for(let t of(r.length>1&&(n.branchStats=this.getBranchStats(i,r,d)),r)){var m,f;let l=this.stepIndex[t];if(void 0===l&&(l=(e+1)%this.steps.length,t=this.steps[l].id),0===l)continue;let a=null!==(m=d["".concat(i,":").concat(t)])&&void 0!==m?m:0,s={stepNumber:e+1,conversionCount:a,conversionPercent:(0,o.percentage)(a,n.reachedCount),stepId:i};if(e+1===l){for(let e of(s.dropoffCount=u[i],s.dropoffPercent=(0,o.percentage)(s.dropoffCount,n.reachedCount),r)){if(e===t)continue;"skippedTo"in s||(s.skippedTo=[]);let r=this.stepIndex[e],l=null!==(f=d["".concat(i,":").concat(e)])&&void 0!==f?f:0;s.skippedTo.push({stepNumber:r+1,skippedCount:l,skippedPercent:(0,o.percentage)(l,n.reachedCount)})}p[l].parentSteps.unshift(s)}else p[l].parentSteps.push(s);p[l].knownTransitions=(p[l].knownTransitions||0)+a}}return(0,r.formatValuesWithKnownTransitions)(p)}getRelevantStepBits(){return this.steps.map(e=>this.stepBits[e.id]).sort((e,t)=>e-t)}getKnownTransitions(){let e={};for(let[t,n]of this.steps.entries()){let i=this.steps[(t+1)%this.steps.length].id,r=l(n,i),o=[...new Set(r)];e[n.id]=o}return e}getRelevantTransitionBits(){let e=[];for(let[t,n]of Object.entries(this.getKnownTransitions()))for(let i of n)e.push("".concat(t,":").concat(i));return e.filter(e=>e in this.transitionBits).map(e=>this.transitionBits[e]).sort((e,t)=>e-t)}constructor(e,t){var n;this.steps=e,this.structureBits=function(e,t){let n=t?[...t.steps]:[],i=t?[...t.transitions]:[],r=Object.fromEntries(e.map((e,t)=>[e,t])),o=Object.fromEntries(n.map((e,t)=>[e,t])),a=Object.fromEntries(i.map((e,t)=>[e,t]));for(let t of e)t.id in o||(o[t.id]=n.length,n.push(t.id));for(let[t,n]of e.entries()){let s=e[(t+1)%e.length].id,u=l(n,s),d=[...new Set(u)],c=d.sort((e,t)=>r[e]-r[t]);for(let e of c){let t="".concat(o[n.id],":").concat(o[e]);t in a||i.push(t)}}let s={steps:n,transitions:i};return t&&(n.length===t.steps.length&&(s.steps=t.steps),i.length===t.transitions.length&&(s.transitions=t.transitions),s.steps===t.steps&&s.transitions===t.transitions)?t:s}(e,t),this.stepIndex=Object.fromEntries(e.map((e,t)=>[e.id,t])),this.stepBits=Object.fromEntries(this.structureBits.steps.map((e,t)=>[e,t])),this.transitionIds=(n=this.structureBits).transitions.map(e=>{let[t,i]=e.split(":").map(Number);return"".concat(n.steps[t],":").concat(n.steps[i])}),this.transitionBits=Object.fromEntries(this.transitionIds.map((e,t)=>[e,t]))}}t.Z=s},21642:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatValuesWithKnownTransitions=void 0;let i=n(72608);t.formatValuesWithKnownTransitions=e=>e.map((t,n)=>{var r;if(null===(r=t.parentSteps)||void 0===r?void 0:r.length){let r=t.parentSteps.map(t=>{let r=e.find(e=>e.stepId===t.stepId);if(r&&r.knownTransitions){if(1===n)return{...t,conversionPercentWithKnownTransitions:t.conversionPercent,dropOffCountWithKnownTransitions:t.dropoffCount,dropOffPercentWithKnownTransitions:t.dropoffPercent};let e=(0,i.percentage)(t.conversionCount,r.knownTransitions),o=100===e?0:r.knownTransitions-t.conversionCount;return{...t,conversionPercentWithKnownTransitions:e,dropOffCountWithKnownTransitions:o,dropOffPercentWithKnownTransitions:(0,i.percentage)(o,r.knownTransitions)}}return t});return{...t,parentSteps:r}}return t})},72608:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.humanize=t.rate=t.percentage=void 0,t.percentage=(e,t)=>e?t?Math.round(100*e/t):100:0,t.rate=(e,t)=>e?t?e/t:1:0,t.humanize=e=>e>=1e3?"".concat((e/1e3).toFixed(1),"k"):e}}]);